importance: 4

---

# 目に見える画像を読み込む

<<<<<<< HEAD
低速のクライアントがおり、モバイルのトラフィックを節約したいとしましょう。
=======
Let's say we have a slow-speed client and want to save their mobile traffic.
>>>>>>> ea7738bb7c3616bb51ff14ae3db2a2747d7888ff

この目的に対し、画像をすぐには表示せず、それらをプレースホルダに置き換えることに決めました。次のようになります:

```html
<img *!*src="placeholder.svg"*/!* width="128" height="128" *!*data-src="real.jpg"*/!*>
```

なので、最初はすべての画像が `placeholder.svg` です。ユーザが画像を見ることができる位置までページがスクロールされたとき、-- `src` を `data-src` のものに変更します。そうすると画像が読み込まれます。

`iframe` に例があります:

[iframe src="solution"]

画像を見るためにスクロールし、"要求があり次第" 読み込みます。

要件:
- ページが読み込まれると、スクロールする前に画面に表示されている画像はすぐに読み込まれます。
- 画像の中には、`data-src` がないものもあります。 コードはそれらに触れるべきではありません。
- 一旦ロードされた画像は、スクロールで画面内/外が変わってもそれ以上再読込されるべきではありません。

P.S. 可能であれば、現在の位置の1ページ前後にある画像を「プリロードする」より高度な解決策を作成してください。

P.P.S. 垂直スクロールのみが処理され、水平スクロールは処理されません。
